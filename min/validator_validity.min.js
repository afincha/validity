/*!
 * Copyright (c) 2014 Andrew Finch

 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:

 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this[e]=t()}("validator",function(e){e={version:"3.1.0"};var t=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,r=/^(?!mailto:)(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:\/[^\s]*)?$/i,a=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,i=/^(?:[0-9]{9}X|[0-9]{10})$/,n=/^(?:[0-9]{13})$/,o=/^(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)$/,l=/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/,u={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},s=/^[a-zA-Z]+$/,c=/^[a-zA-Z0-9]+$/,f=/^-?[0-9]+$/,d=/^(?:-?(?:0|[1-9][0-9]*))$/,p=/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,v=/^[0-9a-fA-F]+$/,g=/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;e.toString=function(e){return null===e||"undefined"==typeof e||isNaN(e)&&!e.length?e="":"object"==typeof e&&e.toString&&(e=e.toString()),e+""},e.toDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)?e:(e=Date.parse(e),isNaN(e)?null:new Date(e))},e.toFloat=function(e){return parseFloat(e)},e.toInt=function(e,t){return parseInt(e,t||10)},e.toBoolean=function(e,t){return t?"1"===e||"true"===e:"0"!==e&&"false"!==e&&""!==e},e.equals=function(t,r){return t===e.toString(r)},e.contains=function(t,r){return t.indexOf(e.toString(r))>=0},e.matches=function(e,t,r){return"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r)),t.test(e)},e.isEmail=function(e){return t.test(e)},e.isURL=function(e){return e.length<2083&&r.test(e)},e.isIP=function(t,r){if(r=e.toString(r),!r)return e.isIP(t,4)||e.isIP(t,6);if("4"===r){if(!o.test(t))return!1;var a=t.split(".").sort();return a[3]<=255}return"6"===r&&l.test(t)},e.isAlpha=function(e){return s.test(e)},e.isAlphanumeric=function(e){return c.test(e)},e.isNumeric=function(e){return f.test(e)},e.isHexadecimal=function(e){return v.test(e)},e.isHexColor=function(e){return g.test(e)},e.isLowercase=function(e){return e===e.toLowerCase()},e.isUppercase=function(e){return e===e.toUpperCase()},e.isInt=function(e){return d.test(e)},e.isFloat=function(e){return""!==e&&p.test(e)},e.isDivisibleBy=function(t,r){return e.toFloat(t)%e.toInt(r)===0},e.isNull=function(e){return 0===e.length},e.isLength=function(e,t,r){return e.length>=t&&("undefined"==typeof r||e.length<=r)},e.isUUID=function(e,t){var r=u[t?t:"all"];return r&&r.test(e)},e.isDate=function(e){return!isNaN(Date.parse(e))},e.isAfter=function(t,r){var a=e.toDate(r||new Date),i=e.toDate(t);return i&&a&&i>a},e.isBefore=function(t,r){var a=e.toDate(r||new Date),i=e.toDate(t);return i&&a&&a>i},e.isIn=function(t,r){if(!r||"function"!=typeof r.indexOf)return!1;if("[object Array]"===Object.prototype.toString.call(r)){for(var a=[],i=0,n=r.length;n>i;i++)a[i]=e.toString(r[i]);r=a}return r.indexOf(t)>=0},e.isCreditCard=function(e){var t=e.replace(/[^0-9]+/g,"");if(!a.test(t))return!1;for(var r,i,n,o=0,l=t.length-1;l>=0;l--)r=t.substring(l,l+1),i=parseInt(r,10),n?(i*=2,o+=i>=10?i%10+1:i):o+=i,n=!n;return o%10===0?t:!1},e.isISBN=function(t,r){if(r=e.toString(r),!r)return e.isISBN(t,10)||e.isISBN(t,13);var a,o=t.replace(/[\s-]+/g,""),l=0;if("10"===r){if(!i.test(o))return!1;for(a=0;9>a;a++)l+=(a+1)*o.charAt(a);if(l+="X"===o.charAt(9)?100:10*o.charAt(9),l%11===0)return o}else if("13"===r){if(!n.test(o))return!1;var u=[1,3];for(a=0;12>a;a++)l+=u[a%2]*o.charAt(a);if(o.charAt(12)-(10-l%10)%10===0)return o}return!1},e.ltrim=function(e,t){var r=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(r,"")},e.rtrim=function(e,t){var r=t?new RegExp("["+t+"]+$","g"):/\s+$/g;return e.replace(r,"")},e.trim=function(e,t){var r=t?new RegExp("^["+t+"]+|["+t+"]+$","g"):/^\s+|\s+$/g;return e.replace(r,"")},e.escape=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.whitelist=function(e,t){return e.replace(new RegExp("[^"+t+"]+","g"),"")},e.blacklist=function(e,t){return e.replace(new RegExp("["+t+"]+","g"),"")};for(var A in e)"toString"!==A&&"toDate"!==A&&"function"==typeof e[A]&&!function(t){var r=e[t];e[t]=function(){var t=Array.prototype.slice.call(arguments);return t[0]=e.toString(t[0]),r.apply(e,t)}}(A);return e});var Validity={version:"0.1.0"};Validity.validate=function(e,t,r){t="undefined"==typeof t?Validity.setErrorState:t,r="undefined"==typeof r?Validity.clearErrorState:r;var a=!0,i=document.getElementById(e),n=i.getElementsByTagName("input"),o=Array.prototype.slice.call(n);return Validity.clearErrorStates(e,r),o.forEach(function(e){var r=e.getAttribute("data-validate");if(r=JSON.parse(r))for(var i in r){var n=Validity.processValidation(i,e);n||t(e,r[i]),a=a&&n}}),a},Validity.displayServerErrors=function(e,t,r,a){r="undefined"==typeof r?Validity.setErrorState:r,a="undefined"==typeof a?Validity.clearErrorState:a;var i=document.getElementById(e),n=i.getElementsByTagName("input"),o=Array.prototype.slice.call(n);Validity.clearErrorStates(e,a),o.forEach(function(e){var a=e.getAttribute("data-error");if(a=JSON.parse(a))for(var i in a)t.indexOf(i)>-1&&r(e,a[i])})},Validity.processValidation=function(e,t){var r=!0;switch(e){case"required":r=t.value.length>0;break;case"email":r=validator.isEmail(t.value);break;case"URL":r=validator.isURL(t.value);break;case"IP":r=validator.isIP(t.value);break;case"alpha":r=validator.isAlpha(t.value);break;case"numeric":r=validator.isNumeric(t.value);break;case"alphanumeric":r=validator.isAlphanumeric(t.value);break;case"hexadecimal":r=validator.isHexadecimal(t.value);break;case"hexColor":r=validator.isHexColor(t.value);break;case"lowercase":r=validator.isLowercase(t.value);break;case"uppercase":r=validator.isUppercase(t.value);break;case"int":r=validator.isInt(t.value);break;case"float":r=validator.isFloat(t.value);break;case"date":r=validator.isDate(t.value);break;case"creditCard":r=validator.isCreditCard(t.value);break;default:r=!1,console.error("Error: Unrecognized validation type: "+e+" on element: "+t)}return r},Validity.clearErrorStates=function(e,t){t="undefined"==typeof t?Validity.clearErrorState:t;var r=document.getElementById(e),a=r.getElementsByTagName("input"),i=Array.prototype.slice.call(a);i.forEach(function(e){t(e)})},Validity.setErrorState=function(e,t){console.error("Error on element: "+e+" with message: "+t);var r=e.parentNode;if(r.classList.add("has-error"),"LABEL"==r.firstChild.tagName)r.firstChild.innerHTML=t;else{var a=document.createElement("label");a.setAttribute("for",e.id),a.innerHTML=t,a.classList.add("control-label"),r.insertBefore(a,r.firstChild)}},Validity.clearErrorState=function(e){var t=e.parentNode;t.classList.remove("has-error"),"LABEL"==t.firstChild.tagName&&t.removeChild(t.firstChild)};